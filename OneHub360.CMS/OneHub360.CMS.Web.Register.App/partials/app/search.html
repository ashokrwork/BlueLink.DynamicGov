<div class="searchbox" ng-controller="feedController" ng-init="initSearch()" ng-if="isLoggedIn">
    <div ng-if="status == 0">
        <loading></loading>
    </div>
    <div>
        <form class="form-horizontal" name="searchForm" role="form">

            <div style="visibility:hidden!important;display:none!important" class="form-group">
                <div class="col-md-12">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-pencil fa-fw"></i></span>
                        <select class="form-control" ng-model="criteria.Feedtype">
                            <option selected="selected" value="">الكل</option>
                            <option value="مذكرة">مذكرة</option>
                            <option value="كتاب">كتاب</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-5">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-pencil fa-fw"></i></span>
                        <input type="text" ng-required="true" class="form-control" ng-model="criteria.Keyword" placeholder="بحث عن">
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-calendar fa-fw"></i></span>
                        <input ng-required="true" class="form-control datepicker" ng-model="criteria.DateFrom" placeholder="ليس قبل">
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-calendar fa-fw"></i></span>
                        <input ng-required="true" class="form-control datepicker" ng-model="criteria.DateTo" placeholder="ليس بعد">
                    </div>
                </div>
                <div class="col-md-1 col-xs-1">
                    <button ng-disabled="status == 0" type="button" ng-click="ReSearchFeeds()" class="btn  greenBtn"><i class="fa fa-search fa-fw"></i></button>
                </div>
            </div>

        </form>
    </div>
    <div style="width:100%;text-align:center" ng-if="noData">
        <h3>لم يتم العثور علي نتائج للبحث</h3>
    </div>

    <div class="TimeLineBox">
        <div ng-if="status == 1">
            <div ng-repeat="(category, feeds) in feedData | map: map | groupBy: 'Category'">
                <div class="timeLin_date {{category}}" ng-click="SlideCategory($event,category)">
                    <i class="fa fa-calendar fa-lg"></i>
                    <b> ( {{feeds.length}} ) </b>
                </div>
                <content>
                    <div ng-repeat="feedItemData in feeds">
                        <div template="{{feedItemData.TemplateUrl}}" feeditem></div>
                    </div>
                </content>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(function () {
        $(".datepicker").datepicker();
    });
</script>